# Запись и загрузка аудио

Speakr предоставляет два мощных способа добавления контента в вашу библиотеку: загрузка существующих аудиофайлов для транскрибации или запись нового аудио напрямую в браузере. Оба метода включают одинаковые мощные функции для организации, [тегирования](settings.md#tag-management-tab) и обработки. После записи вы можете [работать с транскрипциями](transcripts.md) и использовать [функции ИИ](../features.md#ai-powered-intelligence).

## Важно: Требования браузера для записи

Перед началом записи важно понимать, что функции безопасности браузера могут повлиять на вашу способность записывать аудио, особенно системное аудио. По соображениям безопасности большинство браузеров требуют HTTPS-соединения для функций записи аудио. Если вы обращаетесь к Speakr локально (не через localhost), вам может потребоваться настроить браузер, чтобы разрешить запись аудио на HTTP-соединениях. Подробные инструкции по настройке браузера приведены внизу этой страницы.

При записи системного аудио вам нужно будет предоставить разрешения на совместное использование экрана и специально включить опцию "Also share system audio". Без этого будет записываться только ваш микрофон. Разные браузеры могут формулировать эту опцию по-разному, но она необходима для захвата аудио компьютера.

## Доступ к экрану новой записи

Нажмите кнопку "+ New Recording" в верхней панели навигации, чтобы получить доступ к интерфейсу записи. Это открывает специальный экран, где вы можете либо загрузить файлы, либо начать прямую запись.

![Вид новой записи](../assets/images/screenshots/Recording interface.png)

## Загрузка аудиофайлов

Интерфейс загрузки предоставляет простую область перетаскивания в верхней части экрана. Вы можете либо перетащить аудиофайлы напрямую из вашего файлового менеджера на эту область, либо нажать на область, чтобы открыть файловый браузер и выбрать файлы.

Speakr поддерживает [широкий спектр аудио и видео форматов](../faq.md#what-audio-formats-does-speakr-support). Распространенные аудиоформаты, такие как MP3, WAV, M4A, FLAC, AAC и OGG, работают отлично. Вы также можете загружать видеофайлы, включая MP4, MOV и AVI, и Speakr извлечет и обработает аудиодорожку. Мобильные записи в форматах, таких как AMR, 3GP и 3GPP, также поддерживаются. Лимит размера файла по умолчанию составляет 500 МБ, хотя это может быть настроено вашим администратором в [системных настройках](../admin-guide/system-settings.md#maximum-file-size). Для файлов более 25 МБ с OpenAI см. [конфигурацию разделения](../troubleshooting.md#files-over-25mb-fail-with-openai).

Когда вы загружаете файл, он сразу появляется в очереди загрузки с индикатором прогресса, показывающим статус загрузки. После загрузки вы можете добавить [теги](settings.md#tag-management-tab), установить пользовательский заголовок и настроить опции обработки перед началом транскрибации. Теги могут включать [пользовательские промпты ИИ](../admin-guide/prompts.md) для специализированной обработки.

## Запись живого аудио

Ниже области загрузки вы найдете раздел записи аудио с тремя различными режимами записи, каждый из которых разработан для разных сценариев:

![Опции записи](../assets/images/screenshots/recording-upload-modal.png)

### Запись с микрофона

Красная кнопка микрофона захватывает аудио с выбранного микрофона. Этот режим идеален для записи личных встреч, личных голосовых заметок или интервью. Когда вы нажимаете эту опцию, ваш браузер запросит разрешение на микрофон, если оно еще не было предоставлено. Вы можете выбрать, какой микрофон использовать, если у вас подключено несколько входных устройств.

### Запись системного аудио

Синяя кнопка системного аудио захватывает весь звук, воспроизводимый через ваш компьютер. Это идеально для записи онлайн-встреч, когда вы в основном слушаете, вебинаров, онлайн-презентаций, подкастов или любого аудиоконтента, воспроизводимого на вашем компьютере. Эта функция использует API захвата экрана браузера, поэтому вам нужно будет выбрать, какой экран или приложение использовать при начале записи. Убедитесь, что установлен флажок "Share system audio" в диалоге совместного использования.

### Комбинированная запись (Микрофон + Система)

Фиолетовая комбинированная кнопка записывает как ваш микрофон, так и системное аудио одновременно в одну синхронизированную дорожку. Это рекомендуемый режим для онлайн-встреч, где вы активный участник, так как он захватывает обе стороны беседы. Система интеллектуально смешивает оба аудиоисточника, обеспечивая четкую запись как вашего голоса, так и аудио встречи.

## Как включить запись системного аудио

Когда вы нажимаете для записи системного аудио (или и микрофона, и системы), ваш браузер отобразит диалог совместного использования экрана. Это может показаться запутанным на первый взгляд, поскольку вы хотите записывать аудио, а не делиться экраном, но именно так браузеры предоставляют доступ к системному аудио.

### Запись из вкладки браузера

Выберите опцию вкладки, если аудио, которое вы хотите записать, воспроизводится в конкретной вкладке браузера, такой как аудио/видео контент на YouTube, веб-платформы для встреч (такие как Google Meet или Zoom на основе браузера) или онлайн-тренинги.

![Выбор вкладки с аудио](../assets/images/screenshots/record from tab.png)

При выборе вкладки вы увидите предварительный просмотр всех ваших открытых вкладок. Выберите вкладку, содержащую ваш аудиоисточник, затем убедитесь, что включен флажок **"Also share tab audio"** внизу диалога. Этот флажок критичен — без него вы будете записывать только тишину. Точная формулировка может различаться в зависимости от браузера (Chrome может сказать "Share tab audio", в то время как Edge может сформулировать это немного иначе), но всегда будет аудио-связанный флажок, который должен быть установлен.

Эта опция будет захватывать аудио только из этой конкретной вкладки, поэтому убедитесь, что все аудио, которое вас интересует, находится в этой единственной вкладке перед началом записи.

### Запись с вашего всего экрана

Выберите опцию экрана, если аудио, которое вы хотите записать, поступает из настольных приложений или нескольких источников.

![Диалог выбора экрана](../assets/images/screenshots/record from screen.png)

Это рекомендуемая опция при записи:
- Настольных приложений, таких как клиент Zoom, Microsoft Groups, Skype или Discord
- Аудио из нескольких вкладок браузера одновременно
- Системных звуков или уведомлений, которые вы хотите захватить
- Любой комбинации аудиоисточников на вашем компьютере

Когда вы выбираете "Your Entire Screen", вы увидите предварительные просмотры всех ваших доступных экранов (если у вас несколько мониторов). Неважно, какой экран вы выберете, поскольку Speakr записывает только аудио, а не видео. Критический шаг — включить флажок **"Also share system audio"** внизу диалога. Без этого флажка вы будете записывать только тишину.

**Важное ограничение macOS:** Опция "Also share system audio" доступна в Windows и Linux, но может быть недоступна в macOS из-за ограничений операционной системы. Пользователи macOS могут иметь возможность записывать аудио только из вкладок браузера, а не из всей системы или настольных приложений. Это ограничение, наложенное моделью безопасности macOS, а не Speakr или вашим браузером.

## Во время записи - Интерфейс в реальном времени

После начала записи интерфейс преобразуется, чтобы показать активную сессию записи:

![Интерфейс прямой записи](../assets/images/screenshots/recording-dual-source.png)

### Мониторинг аудио в реальном времени

Интерфейс записи отображает визуализаторы живого аудио для каждого активного входного источника. При записи с микрофона вы увидите визуализатор в реальном времени, показывающий уровни вашего голоса. Для записи системного аудио отдельный визуализатор отображает уровни аудио компьютера. Эти визуализаторы помогают вам подтвердить, что аудио захватывается правильно и на соответствующих уровнях.

Выдающийся таймер вверху показывает прошедшее время записи в минутах и секундах, обновляясь в реальном времени. Ниже таймера вы увидите оценку размера файла на основе текущей длительности записи и настроек качества. Это помогает вам быть в курсе, сколько места для хранения потребует ваша запись.

### Заметки в реальном времени с Markdown

Одна из самых мощных функций Speakr — это возможность делать структурированные заметки во время записи. Область заметок появляется ниже визуализаторов аудио и поддерживает полное форматирование markdown.

![Заметки во время записи](../assets/images/screenshots/recording-single-source.png)

Редактор markdown включает панель инструментов форматирования с кнопками для распространенных опций форматирования, таких как жирный, курсив, заголовки, цитаты, списки и ссылки. Вы также можете вводить синтаксис markdown напрямую, если предпочитаете. Редактор поддерживает все стандартные элементы markdown, позволяя создавать хорошо структурированные заметки, которые дополняют вашу запись.

Ваши заметки сохраняются автоматически и будут связаны с записью. Они появляются во вкладке Notes при просмотре записи позже и полностью доступны для поиска вместе с транскрипцией. Это упрощает захват важного контекста, решений или пунктов действий, которые могут быть не явно указаны в аудио.

Распространенные случаи использования заметок в реальном времени включают захват пунктов действий и сроков во время встреч, отметку важных временных меток для последующей справки, запись имен участников и ролей, документирование решений и их обоснований, а также добавление контекста, который может быть неясен только из аудио.

## Завершение вашей записи

После остановки записи или выбора загруженного файла вы увидите экран завершения, где вы можете добавить метаданные и настроить опции обработки:

![Модальное окно загрузки](../assets/images/screenshots/recording-upload-modal.png)

### Добавление тегов

Система тегов — одна из самых мощных организационных функций Speakr. Теги отображаются как цветные пилюли, которые вы можете выбрать для категоризации вашей записи. Вы можете применять несколько тегов к одной записи, что упрощает перекрестную ссылку контента по разным категориям.

![Выбор и наложение тегов](../assets/images/screenshots/tag selection and stacking.png)

Важно выбрать релевантные теги перед загрузкой файла, чтобы соответствующие промпты сводки применялись во время суммирования. Каждый тег может иметь связанные пользовательские промпты ИИ, которые влияют на то, как генерируется сводка. Например, тег "Meeting" может фокусировать сводку на пунктах действий и решениях, в то время как тег "Lecture" может подчеркивать ключевые концепции и учебные моменты.

**Интеллектуальное наложение промптов:** Когда вы выбираете несколько тегов, их связанные промпты объединяются в порядке, в котором вы их выбираете, позволяя интеллектуальное наложение инструкций. Эта мощная функция позволяет вам комбинировать общие и специфические промпты. Например, у вас может быть стандартный тег "Meetings" с общими инструкциями для встреч, затем добавить тег, специфичный для проекта, клиента или ситуации, который добавляет дополнительный контекст и инструкции для суммирования. ИИ применит оба набора инструкций, объединяя общие требования для встреч с конкретными модификациями. Это позволяет создавать сложные правила суммирования без необходимости создавать отдельный тег для каждой возможной комбинации. Чтобы создавать и управлять тегами с пользовательскими промптами, см. [Управление тегами в настройках аккаунта](settings.md#tag-management-tab).

Как показано в интерфейсе, если вы добавляете теги, которые включают инструкции по суммированию, вы получите указание на это в интерфейсе. Порядок имеет значение — сначала выберите ваш основной тег, затем добавьте модифицирующие теги для наложения дополнительных инструкций. Теги также доступны для поиска и фильтрации в главном виде, что упрощает поиск связанных записей позже.

### Расширенные опции ASR

Если ваш администратор настроил ASR-эндпоинты с идентификацией говорящих, вы увидите расширяемый раздел "Advanced ASR Options". Здесь вы можете указать язык транскрибации, если ваш контент не на английском, установить минимальное и максимальное количество ожидаемых говорящих для лучшей точности идентификации и настроить другие параметры, специфичные для ASR, в зависимости от вашей настройки.

Эти настройки особенно полезны для встреч с известными участниками, поскольку установка точного количества говорящих улучшает способность ИИ разделять разные голоса в транскрипции.

### Финальные действия

Внизу модального окна у вас есть три опции для продолжения. Кнопка "Upload" или "Start Processing" начинает транскрибацию немедленно с выбранными настройками. Запись появится в вашей библиотеке с индикатором обработки, пока транскрибация выполняется в фоновом режиме. Опция "Discard" удаляет запись без сохранения, что полезно, если вы сделали тестовую запись или захватили неправильный контент. Некоторые конфигурации также могут предлагать опцию "Save Draft" для хранения записи без немедленной обработки.

## Лучшие практики для качественных записей

### Соображения для мобильной записи

!!! danger "Держите приложение видимым на мобильных устройствах"
    **Критическое ограничение**: Мобильные браузеры (Chrome, Safari и т.д.) будут **приостанавливать запись аудио**, когда вы минимизируете приложение или блокируете экран. Это фундаментальное ограничение браузера, которое нельзя преодолеть.

    **Для успешной записи на мобильных устройствах:**
    - **Держите Speakr видимым** на переднем плане все время
    - **Не минимизируйте** окно и не переключайтесь на другие приложения
    - **Не блокируйте** экран во время записи
    - Wake Lock **предотвратит автоматическое засыпание экрана**, пока приложение видимо

    **Для длинных встреч на мобильных устройствах:**
    1. **Опция 1**: Держите Speakr открытым и видимым (wake lock предотвращает засыпание экрана)
    2. **Опция 2**: Используйте встроенное приложение диктофона вашего телефона, затем загрузите файл в Speakr после завершения

    **Настольные браузеры не имеют этого ограничения** — запись продолжается даже при минимизации.

**Установка как PWA** - Для лучшего мобильного опыта установите Speakr как прогрессивное веб-приложение. Это предоставляет:

- Wake Lock API для предотвращения автоматического засыпания экрана во время записи
- Более быструю загрузку с офлайн-кешированием
- Опыт, похожий на нативное приложение
- Постоянное уведомление во время записи

См. [Руководство по PWA](pwa.md) для инструкций по установке и важных ограничений.

### Оптимизация качества аудио

Качество вашей транскрибации начинается с качества вашей записи. При использовании микрофона найдите тихое пространство с минимальным эхом и фоновым шумом. Мягкая мебель и ковровые комнаты обычно обеспечивают лучшую акустику, чем пустые комнаты с твердыми поверхностями. Размещайте микрофон последовательно, примерно на 6-12 дюймов от вашего рта, и говорите с постоянной громкостью.

**Важное примечание для записей с телефона:** Многие смартфоны имеют агрессивные алгоритмы шумоподавления, разработанные для улучшения одноголосых звонков. При записи встреч или бесед с несколькими говорящими, используя микрофон телефона, эти функции шумоподавления могут неправильно идентифицировать других говорящих как фоновый шум и отфильтровать их. Это может привести к приглушенному или отсутствующему аудио от говорящих, которые находятся дальше от телефона. Это не ограничение Speakr, а скорее то, как современные телефоны обрабатывают аудио. Для записей с несколькими говорящими рассмотрите использование внешнего микрофона без шумоподавления или размещение телефона на равном расстоянии от всех говорящих.

Для записи системного аудио закройте ненужные приложения, которые могут производить звуки уведомлений или фоновое аудио. Если вы записываете онлайн-звонок или веб-встречу, убедитесь, что у вас стабильное интернет-соединение, чтобы избежать пропусков аудио. Использование проводного интернета вместо WiFi может улучшить стабильность для важных записей.

При записи как микрофона, так и системного аудио используйте наушники, чтобы предотвратить эхо и обратную связь. Это гарантирует, что системное аудио не будет захвачено вашим микрофоном, что создало бы запутанную двойную запись.

### Эффективная организация с самого начала

Разработайте последовательный подход к именованию и тегированию ваших записей. Включайте ключевую информацию в заголовки, такую как тип встречи, основная тема или название проекта. Если исходная дата встречи отличается от даты загрузки, убедитесь, что вы обновляете дату встречи при загрузке, что упрощает хронологическую сортировку.

Применяйте теги до или сразу после записи, пока контекст свеж в вашей памяти. Рассмотрите создание стандартного набора тегов для разных типов контента, таких как встречи, лекции, интервью или личные заметки. Если ваша организация использует конкретные коды проектов или имена клиентов, включите их в вашу систему тегов.

Используйте функцию заметок в реальном времени, чтобы захватывать информацию, которая может быть неясна только из аудио. Отмечайте имена участников в начале встреч, отмечайте важные временные метки, когда принимаются ключевые решения, и документируйте любую визуальную информацию, которая была предоставлена, но не будет захвачена в аудио.


## Настройка браузера для локальных развертываний

### Требования для записи системного аудио

Запись системного аудио требует специальной поддержки браузера и конфигурации. Функция лучше всего работает в Chrome и других браузерах на основе Chromium, таких как Edge или Brave. Firefox имеет ограниченную поддержку, а Safari в настоящее время вообще не поддерживает запись системного аудио.

Для производственных развертываний с использованием HTTPS запись аудио работает без дополнительной конфигурации. Однако, если вы обращаетесь к Speakr через HTTP (кроме localhost), вам нужно будет настроить браузер, чтобы разрешить запись аудио на небезопасных соединениях.

### Конфигурация Chrome для доступа по HTTP

Если вы обращаетесь к Speakr через HTTP (не localhost), Chrome по умолчанию заблокирует запись аудио. Чтобы включить её:

1. Откройте Chrome и перейдите к `chrome://flags`
2. Найдите "Insecure origins treated as secure"
3. В текстовом поле введите ваш URL Speakr (например, `http://192.168.1.100:8899`)
4. Установите выпадающий список в "Enabled"
5. Нажмите "Relaunch", чтобы перезапустить Chrome с новыми настройками

Эта конфигурация говорит Chrome обрабатывать ваш конкретный HTTP URL как безопасный, включая все функции записи аудио.

### Конфигурация Firefox для доступа по HTTP

Firefox требует другого подхода для включения доступа к микрофону на HTTP-сайтах:

1. Откройте Firefox и перейдите к `about:config`
2. Нажмите "Accept the Risk and Continue", когда предупреждено
3. Найдите `media.devices.insecure.enabled`
4. Дважды нажмите на настройку, чтобы изменить её с `false` на `true`
5. Перезапустите Firefox, чтобы изменения вступили в силу

Обратите внимание, что даже с этой настройкой захват системного аудио Firefox может работать ненадежно. Для записи системного аудио настоятельно рекомендуется Chrome.

### Соображения безопасности

Эти конфигурации браузера снижают безопасность и должны использоваться только для локальной разработки или доверенных внутренних сетей. Для производственных развертываний всегда используйте HTTPS с правильными SSL-сертификатами. Это гарантирует, что все функции браузера работают правильно и поддерживает безопасность для ваших пользователей.

### Распространенные проблемы и решения

Если ваш микрофон не обнаружен, сначала проверьте, что ваш браузер имеет разрешение на доступ к нему. Нажмите на значок замка или информации в адресной строке и убедитесь, что доступ к микрофону разрешен. Проверьте, что ваш микрофон правильно подключен и выбран как устройство ввода по умолчанию в настройках системы. Если проблемы сохраняются, попробуйте использовать другой браузер или перезапустить текущий браузер.

Когда запись системного аудио не работает, наиболее распространенная проблема — забыть установить флажок "Also share system audio" при выборе того, чем делиться. Этот флажок появляется внизу диалога выбора экрана/вкладки и должен быть включен. Убедитесь, что вы выбираете либо весь экран, либо вкладку браузера, а не отдельное окно приложения, поскольку совместное использование аудио приложения часто не поддерживается.

Если вы на локально размещенном экземпляре и не можете записывать аудио, проверьте, обращаетесь ли вы к Speakr через HTTP. Браузеры блокируют запись аудио на небезопасных соединениях по соображениям безопасности. Либо настройте HTTPS с обратным прокси, либо настройте браузер, используя инструкции выше, чтобы разрешить запись аудио на вашем конкретном HTTP URL.

Если запись неожиданно останавливается, проверьте доступное место на диске, так как браузеры имеют ограничения на локальное хранилище. Убедитесь, что ваше интернет-соединение стабильно, особенно если у вас включены функции автоматического сохранения. Проверьте консоль разработчика браузера (F12) на наличие сообщений об ошибках, которые могут указать на проблему.

Для проблем с плохим качеством аудио начните с проверки размещения микрофона и настроек усиления. Внешние USB-микрофоны часто обеспечивают лучшее качество, чем встроенные микрофоны ноутбука. Уменьшите фоновый шум, закрыв окна, выключив вентиляторы и отключив звук других устройств. Если записываете системное аудио, убедитесь, что качество исходного аудио хорошее, так как Speakr не может улучшить плохое исходное аудио.

## Дальнейшие шаги

Теперь, когда вы понимаете, как создавать и загружать записи, вы готовы изучить, как работать с транскрипциями и использовать функции Speakr на основе ИИ для суммирования и чата.

---

Далее: [Работа с транскрипциями](transcripts.md) →
