<div align="center">
    <img src="static/img/icon-32x32.png" alt="Speakr Logo" width="32"/>
</div>

<h1 align="center">Speakr</h1>
<p align="center">Самодостаточная платформа ИИ-транскрибации и интеллектуального ведения заметок</p>

<p align="center">
  <a href="https://www.gnu.org/licenses/agpl-3.0"><img alt="AGPL v3" src="https://img.shields.io/badge/License-AGPL_v3-blue.svg"></a>
  <a href="https://github.com/murtaza-nasir/speakr/actions/workflows/docker-publish.yml"><img alt="Docker Build" src="https://github.com/murtaza-nasir/speakr/actions/workflows/docker-publish.yml/badge.svg"></a>
  <a href="https://hub.docker.com/r/learnedmachine/speakr"><img alt="Docker Pulls" src="https://img.shields.io/docker/pulls/learnedmachine/speakr"></a>
  <a href="https://github.com/murtaza-nasir/speakr/releases/latest"><img alt="Latest Version" src="https://img.shields.io/badge/version-0.5.10-brightgreen.svg"></a>
</p>

<p align="center">
  <a href="https://murtaza-nasir.github.io/speakr">Документация</a> •
  <a href="https://murtaza-nasir.github.io/speakr/getting-started">Быстрый старт</a> •
  <a href="https://murtaza-nasir.github.io/speakr/screenshots">Скриншоты</a> •
  <a href="https://hub.docker.com/r/learnedmachine/speakr">Docker Hub</a> •
  <a href="https://github.com/murtaza-nasir/speakr/releases">Релизы</a>
</p>

---

## Обзор

Speakr преобразует ваши аудиозаписи в организованные, доступные для поиска и интеллектуальные заметки. Созданный для групп и отдельных лиц, заботящихся о конфиденциальности, он работает полностью на вашей собственной инфраструктуре, обеспечивая, что ваши конфиденциальные беседы остаются полностью приватными.

<div align="center">
    <img src="docs/assets/images/screenshots/Main view.png" alt="Главный интерфейс Speakr" width="750"/>
</div>

## Ключевые функции

### Основная функциональность
- **Умная запись и загрузка** - Записывайте напрямую в браузере или загружайте существующие аудиофайлы
- **ИИ-транскрибация** - Высокоточная транскрибация с идентификацией говорящих
- **Голосовые профили** - Распознавание говорящих на основе ИИ с голосовыми эмбеддингами (требуется сервис WhisperX ASR)
- **Синхронизация аудио-транскрипта** - Нажмите на транскрипт, чтобы перейти к аудио, автоматическая подсветка текущего текста, режим следования для воспроизведения без рук
- **Интерактивный чат** - Задавайте вопросы о ваших записях и получайте ответы на основе ИИ
- **Режим Inquire** - Семантический поиск по всем записям, используя естественный язык
- **Интернационализация** - Полная поддержка английского, испанского, французского, немецкого и китайского языков
- **Красивые темы** - Светлый и темный режимы с настраиваемыми цветовыми схемами

### Сотрудничество и обмен
- **Внутренний обмен** - Делитесь записями с конкретными пользователями с детальными разрешениями (просмотр/редактирование/повторный обмен)
- **Управление группами** - Создавайте группы с автоматическим обменом через теги, ограниченные группой
- **Публичный обмен** - Генерируйте безопасные ссылки для обмена записями внешне (контролируется администратором)
- **Групповые теги** - Теги, которые автоматически делятся записями со всеми участниками группы

### Организация и управление
- **Умное тегирование** - Организуйте с тегами, которые включают пользовательские промпты ИИ и настройки ASR
- **Наложение промптов тегов** - Объединяйте несколько тегов для наслоения инструкций ИИ для мощных преобразований
- **Защита тегов** - Предотвращайте автоматическое удаление конкретных записей
- **Политики хранения групп** - Устанавливайте пользовательские периоды хранения для каждого группового тега
- **Автоматическое удаление** - Автоматическая очистка старых записей с гибкими политиками хранения

## Реальные случаи использования

Разные люди используют функции сотрудничества и хранения Speakr по-разному:

| Случай использования | Настройка | Что это делает |
|---------------------|-----------|----------------|
| **Семейные воспоминания** | Создайте группу "Family" с защищенным тегом | Все получают доступ к поездкам и событиям автоматически, записи сохраняются навсегда |
| **Обсуждения книжного клуба** | Группа "Book Club", тег ежемесячных встреч | Все участники автоматически делятся обсуждениями, могут добавлять личные заметки о том, что отозвалось |
| **Рабочая группа проекта** | Делитесь индивидуально с 3 коллегами | Временное сотрудничество, легко отозвать, когда проект заканчивается |
| **Ежедневные групповые стендапы** | Групповой тег с хранением 14 дней | Автоматический обмен с группой, автоматическая очистка рутинных встреч |
| **Решения по архитектуре** | Тег группы Engineering, защищен от удаления | Технические обсуждения автоматически делятся, сохраняются постоянно как справочник |
| **Консультации клиентов** | Индивидуальный обмен с разрешением только просмотр | Контролируемый внешний доступ, клиенты не могут случайно редактировать |
| **Исследовательские интервью** | Защищенный тег + экспорт Obsidian | Сохраняйте записи бесконечно, транскрипты автоматически импортируются в систему ведения заметок |
| **Юридические консультации** | Групповой тег с хранением 7 лет | Автоматический обмен с юридической группой, хранение на основе соответствия требованиям |
| **Звонки продаж** | Групповой тег с хранением 1 год | Вся группа продаж учится на каждом звонке, очистка после цикла продаж |

### Примеры творческих промптов тегов

Теги с пользовательскими промптами преобразуют сырые записи именно в то, что вам нужно:

- **Записи рецептов**: Записывайте себя, готовя, с повествованием - пометьте "Recipe", чтобы преобразовать беспорядочную речь в отформатированные рецепты со списками ингредиентов и нумерованными шагами
- **Заметки лекций**: Студенты помечают лекции тегом "Study Notes", чтобы получить организованные конспекты с концепциями, примерами и определениями вместо сырых транскриптов
- **Обзоры кода**: Тег "Code Review" извлекает проблемы, предложенные изменения и пункты действий на техническом языке, который разработчики могут использовать напрямую
- **Сводки встреч**: Тег "Action Items" игнорирует обсуждение и возвращает только решения, задачи и сроки

### Наложение тегов для комбинированных эффектов

Наложите несколько тегов для наслоения инструкций:
- "Recipe" + "Gluten Free" = Отформатированный рецепт с предложениями замены глютена
- "Lecture" + "Biology 301" = Формат учебных заметок, сфокусированный на биологической терминологии
- "Client Meeting" + "Legal Review" = Требования клиента плюс юридические последствия, выделенные

Порядок может иметь значение - начните с тегов формата, затем добавьте теги фокуса для лучших результатов.

### Примеры интеграции

- **Obsidian/Logseq**: Включите автоматический экспорт для записи завершенных транскриптов напрямую в ваше хранилище, используя ваш пользовательский шаблон - без необходимости ручного экспорта
- **Вики документации**: Сопоставьте автоматический экспорт с папкой импорта вашей вики для бесшовной публикации транскриптов
- **Создание контента**: Создавайте шаблоны субтитров SRT из ваших аудиозаписей для подкастов или видеоконтента
- **Управление проектами**: Извлекайте пункты действий с пользовательскими промптами тегов, затем автоматически экспортируйте для автоматического создания задач

## Быстрый старт

### Использование Docker (Рекомендуется)

```bash
# Создайте директорию проекта
mkdir speakr && cd speakr

# Загрузите конфигурацию docker-compose:
wget https://raw.githubusercontent.com/murtaza-nasir/speakr/master/config/docker-compose.example.yml -O docker-compose.yml

# Выберите ваш метод транскрибации и загрузите соответствующий файл .env:

# Вариант 1: Стандартный Whisper API (без идентификации говорящих):
wget https://raw.githubusercontent.com/murtaza-nasir/speakr/master/config/env.whisper.example -O .env

# Вариант 2: WhisperX ASR с голосовыми профилями (рекомендуется для функций говорящих):
wget https://raw.githubusercontent.com/murtaza-nasir/speakr/master/config/env.whisperx.example -O .env

# Вариант 3: Базовый ASR с идентификацией говорящих (без голосовых профилей):
wget https://raw.githubusercontent.com/murtaza-nasir/speakr/master/config/env.asr.example -O .env

# Настройте ваши эндпоинты сервисов и ключи API
nano .env  # Установите эндпоинты API (Local/OpenAI/OpenRouter/и т.д.) и добавьте ваши ключи API

# Запустите Speakr
docker compose up -d

# Доступ по адресу http://localhost:8899
```

**Примечание:** Опция ASR требует запуска дополнительного контейнера ASR сервиса вместе с Speakr:
- **Для голосовых профилей и эмбеддингов говорящих:** Используйте [WhisperX ASR Service](https://github.com/murtaza-nasir/whisperx-asr-service) (рекомендуется)
- **Для базовой идентификации говорящих:** Используйте [OpenAI Whisper ASR Webservice](https://github.com/ahmetoner/whisper-asr-webservice)

См. [руководство по установке](https://murtaza-nasir.github.io/speakr/getting-started/installation#running-asr-service-for-speaker-diarization) для полных инструкций по настройке.

**[Просмотреть полное руководство по установке →](https://murtaza-nasir.github.io/speakr/getting-started)**

## Документация

Полная документация доступна на **[murtaza-nasir.github.io/speakr](https://murtaza-nasir.github.io/speakr)**

- [Быстрый старт](https://murtaza-nasir.github.io/speakr/getting-started) - Руководство по быстрой настройке
- [Руководство пользователя](https://murtaza-nasir.github.io/speakr/user-guide/) - Изучите все функции
- [Руководство администратора](https://murtaza-nasir.github.io/speakr/admin-guide/) - Администрирование и конфигурация
- [Решение проблем](https://murtaza-nasir.github.io/speakr/troubleshooting) - Распространенные проблемы и решения
- [FAQ](https://murtaza-nasir.github.io/speakr/faq) - Часто задаваемые вопросы

## Последний релиз (v0.5.10)

**Патч-релиз** - Исправления ошибок и улучшения UX

- **Исправление загрузки файлов iOS** - Решена проблема, препятствующая пользователям iOS загружать аудио/видео файлы
- **Меню с кликом снаружи** - Выпадающие меню теперь закрываются при клике вне их
- **PWA i18n** - Добавлена интернационализация для кнопки установки PWA

Полностью обратно совместим с v0.5.9. Изменения конфигурации не требуются.

**[Просмотреть полные заметки о релизе →](RELEASE_NOTES_v0.5.10.md)**

### Предыдущий релиз (v0.5.9)

> **⚠️ ВАЖНО - Предупреждение о крупном релизе:**
>
> v0.5.9 был **крупным релизом** со значительными архитектурными изменениями и новыми функциями. Перед обновлением с более ранних версий:
>
> - **СОЗДАЙТЕ РЕЗЕРВНУЮ КОПИЮ ВАШИХ ДАННЫХ** - Изменения схемы базы данных требуют миграции
> - **Просмотрите новые переменные окружения** - Многие функции требуют конфигурации `.env`
> - **Сначала протестируйте в разработке** - Крупный рефакторинг может повлиять на существующие рабочие процессы
>
> **Необходимые переменные окружения для новых функций:**
> - `ENABLE_INTERNAL_SHARING` - Обмен пользователь-пользователь (по умолчанию: false)
> - `SHOW_USERNAMES_IN_UI` - Контроль видимости имени пользователя (по умолчанию: false)
> - `USERS_CAN_DELETE` - Разрешения на удаление (по умолчанию: true)
> - `ENABLE_AUTO_DELETION` - Система хранения (по умолчанию: false)
> - `GLOBAL_RETENTION_DAYS` - Период хранения (по умолчанию: 0)
> - `ENABLE_AUTO_EXPORT` - Автоматический экспорт markdown (по умолчанию: false)
> - `ENABLE_PUBLIC_SHARING` - Публичные ссылки для обмена (по умолчанию: true)
>
> См. [руководство по конфигурации](https://murtaza-nasir.github.io/speakr/getting-started/installation#configuration-updates) для полных инструкций по настройке.

#### Основные моменты
- **Полная система внутреннего обмена** - Делитесь записями с пользователями с детальными разрешениями (просмотр/редактирование/повторный обмен)
- **Управление группами и сотрудничество** - Создавайте группы с автоматическим обменом через групповые теги и пользовательские политики хранения
- **Голосовые профили говорящих** - Идентификация говорящих на основе ИИ с 256-мерными голосовыми эмбеддингами
- **Синхронизация аудио-транскрипта** - Клик для перехода, автоматическая подсветка и режим следования для интерактивной навигации
- **Система автоматического удаления и хранения** - Гибкие политики хранения с глобальным и групповым контролем
- **Автоматический экспорт** - Автоматический экспорт транскрипций в markdown для Obsidian, Logseq и других приложений для ведения заметок
- **Система разрешений** - Детальный контроль доступа по всему приложению
- **Модульная архитектура** - Бэкенд рефакторен в blueprints, фронтенд composables для поддерживаемости
- **Улучшения UI/UX** - Компактные элементы управления, встроенное редактирование, унифицированные уведомления toast, улучшенные значки
- **Расширенная интернационализация** - 29 новых переводов подсказок на всех поддерживаемых языках

## Скриншоты

<table align="center" border="0">
  <tr>
    <td align="center">
      <img src="docs/assets/images/screenshots/Main view.png" alt="Главная панель управления" width="400"/>
      <br><em>Главная панель управления с чатом</em>
    </td>
    <td align="center">
      <img src="docs/assets/images/screenshots/Inquire mode.png" alt="Режим Inquire" width="400"/>
      <br><em>Семантический поиск на основе ИИ</em>
    </td>
  </tr>
  <tr>
    <td align="center">
      <img src="docs/assets/images/screenshots/chat-interface.png" alt="Транскрибация с чатом" width="400"/>
      <br><em>Интерактивная транскрибация и чат</em>
    </td>
    <td align="center">
      <img src="docs/assets/images/screenshots/multilingual-chinese.png" alt="Поддержка нескольких языков" width="400"/>
      <br><em>Полная интернационализация</em>
    </td>
  </tr>
</table>

**[Просмотреть полную галерею скриншотов →](https://murtaza-nasir.github.io/speakr/screenshots)**

## Технологический стек

- **Бэкенд**: Python/Flask с SQLAlchemy
- **Фронтенд**: Vue.js 3 с Tailwind CSS
- **ИИ/ML**: OpenAI Whisper, OpenRouter, поддержка Ollama
- **База данных**: SQLite (по умолчанию) или PostgreSQL
- **Развертывание**: Docker, Docker Compose

## Дорожная карта

### Завершено
- ✅ Голосовые профили говорящих с идентификацией на основе ИИ (v0.5.9)
- ✅ Групповые рабочие пространства с общими записями (v0.5.9)
- ✅ Улучшения PWA с поддержкой офлайн и фоновой синхронизацией (v0.5.10)

### Ближайшие планы
- Массовые операции для записей (массовое удаление, экспорт, тегирование)
- Быстрое переключение языка для транскрибации
- Автоматизированные триггеры рабочих процессов

### Долгосрочные планы
- Система плагинов для пользовательских интеграций
- Опция сквозного шифрования
- Интеграция корпоративного SSO

### Сообщение о проблемах

- [Сообщить об ошибках](https://github.com/murtaza-nasir/speakr/issues)
- [Запросить функции](https://github.com/murtaza-nasir/speakr/discussions)

## Лицензия

Этот проект имеет **двойную лицензию**:

1.  **GNU Affero General Public License v3.0 (AGPLv3)**
    [![License: AGPL v3](https://img.shields.io/badge/License-AGPL_v3-blue.svg)](https://www.gnu.org/licenses/agpl-3.0)

    Speakr предлагается под AGPLv3 как его лицензией с открытым исходным кодом. Вы можете свободно использовать, изменять и распространять это программное обеспечение в соответствии с условиями AGPLv3. Ключевое условие AGPLv3 заключается в том, что если вы запускаете измененную версию на сетевом сервере и предоставляете доступ к ней другим, вы также должны сделать исходный код вашей измененной версии доступным этим пользователям под AGPLv3.

    * Вы **должны** создать файл с именем `LICENSE` (или `COPYING`) в корне вашего репозитория и вставить полный текст [лицензии GNU AGPLv3](https://www.gnu.org/licenses/agpl-3.0.txt) в него.
    * Внимательно прочитайте полный текст лицензии, чтобы понять ваши права и обязанности.

2.  **Коммерческая лицензия**

    Для пользователей или организаций, которые не могут или не хотят соблюдать условия AGPLv3 (например, если вы хотите интегрировать Speakr в проприетарный коммерческий продукт или сервис без обязательства делиться вашими модификациями под AGPLv3), доступна отдельная коммерческая лицензия.

    Пожалуйста, свяжитесь с **поддерживающими Speakr** для получения подробной информации о получении коммерческой лицензии.

**Вы должны выбрать одну из этих лицензий**, под которой использовать, изменять или распространять это программное обеспечение. Если вы используете или распространяете программное обеспечение без коммерческого лицензионного соглашения, вы должны соблюдать условия AGPLv3.

## Вклад

Мы приветствуем вклад в Speakr! Есть много способов помочь:

- **Отчеты об ошибках и запросы функций**: [Откройте issue](https://github.com/murtaza-nasir/speakr/issues)
- **Обсуждения**: [Поделитесь идеями и задайте вопросы](https://github.com/murtaza-nasir/speakr/discussions)
- **Документация**: Помогите улучшить нашу документацию
- **Переводы**: Внесите вклад в переводы для интернационализации

### Вклад в код

Весь вклад в код требует подписания [Соглашения о лицензии участника (CLA)](CLA.md). Этот одноразовый процесс обеспечивает, что мы можем поддерживать нашу модель двойной лицензии (AGPLv3 и Коммерческая).

**См. наше [Руководство по вкладу](CONTRIBUTING.md) для полных деталей о:**
- Как работает CLA и почему он нам нужен
- Пошаговый процесс вклада
- Инструкции по настройке разработки
- Стандарты кодирования и лучшие практики

CLA автоматически применяется через GitHub Actions. Когда вы отправите ваш первый PR, наш бот проведет вас через процесс подписания.
